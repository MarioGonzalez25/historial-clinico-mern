# ========================
# CONFIGURACIÓN DEL SERVIDOR
# ========================
PORT=5000
NODE_ENV=development
TRUST_PROXY=1

# ========================
# BASE DE DATOS MONGO ATLAS
# ========================
# Usa tu cadena de conexión de MongoDB Atlas o local.
MONGO_URI=mongodb+srv://<USER>:<PASSWORD>@<CLUSTER>/<DB>?retryWrites=true&w=majority&appName=<APPNAME>

# ========================
# AUTENTICACIÓN Y TOKENS
# ========================
# Clave secreta usada para firmar los JWT (usa una cadena aleatoria en prod).
JWT_SECRET=__SET_THIS_IN_ENV__
# Tiempo de expiración del token (ej: 1d, 12h, 30m)
JWT_EXPIRES=1d

# ========================
# SEGURIDAD DE CONTRASEÑAS
# ========================
BCRYPT_SALT_ROUNDS=12
# Tiempo de vida del token de recuperación de contraseña (en minutos)
RESET_TOKEN_EXPIRES_MINUTES=10

# ========================
# FRONTEND (para enlace de recuperación)
# ========================
CLIENT_URL=http://localhost:5173

# ========================
# CORS (dominios permitidos)
# ========================
# En prod, cámbialo por el dominio de tu frontend.
CORS_ORIGINS=http://localhost:5173

# ========================
# RATE LIMITS (Límites de peticiones)
# ========================
# Ventana de tiempo (en ms)
RL_WINDOW_MS=60000
# Límite global de peticiones por IP
RL_GLOBAL_MAX=100
# Límite específico para login, forgot y reset
RL_LOGIN_MAX=5
RL_FORGOT_MAX=5
RL_RESET_MAX=5

# ========================
# SMTP (para envío de correos)
# ========================
# --- Opción A: Ethereal (desarrollo) ---
# SMTP_HOST=smtp.ethereal.email
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=__ETHEREAL_USER__
# SMTP_PASS=__ETHEREAL_PASS__
# MAIL_FROM="Sistema Clínico" <no-reply@ethereal.email>

# --- Opción B: Gmail (producción) ---
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=465
# SMTP_SECURE=true
# SMTP_USER=__YOUR_GMAIL__
# SMTP_PASS=__APP_PASSWORD__
# MAIL_FROM="Sistema Clínico" <__YOUR_GMAIL__>

# ========================
# OTROS PARÁMETROS
# ========================
MONGO_SERVER_SELECTION_TIMEOUT_MS=5000
